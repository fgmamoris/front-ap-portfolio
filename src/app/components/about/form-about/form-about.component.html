<div class="d-flex justify-content-center" *ngIf="show; else showRest">
  <div class="spinner-border" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>

<ng-template #showRest>
  <form
    (ngSubmit)="onSubmit(form.value)"
    [formGroup]="form"
    validate="validate"
    #f="ngForm"
  >
    <div class="text-primary subheading">
      Acerca

      <textarea
        name="descripcion"
        id="descripcion"
        class="form-control"
        maxlength="65550"
        formControlName="descripcion"
        placeholder="Una breve descripcion de la persona"
        required="required"
        [maxlength]="10000"
        rows="3"
      ></textarea>
      <span class="text-primary mt-2" *ngIf="descripcion?.value.length > 10000">
        10000 caracateres máximo
      </span>
      <span
        class="text-primary mt-2"
        *ngIf="descripcion?.value.length === 10000"
      >
        Alcanzó el máximo permitido
      </span>
    </div>

    <div
      *ngIf="descripcion.invalid && (descripcion.dirty || descripcion.touched)"
      class="alert alert-danger mt-4"
    >
      <span> La descripcion debe tener al menos 5 caracteres </span>
    </div>

    <h4 class="mt-3">
      <button
        class="btn btn-danger m-2"
        type="button"
        (click)="handlerCancel()"
      >
        Cancelar

        <i class="fa-solid fa-circle-xmark"></i>
      </button>

      <button
        class="btn btn-success m-2"
        type="submit"
        [disabled]="form.invalid"
      >
        Confirmar

        <i class="fa-solid fa-circle-check"></i>
      </button>
    </h4>
  </form>
</ng-template>
